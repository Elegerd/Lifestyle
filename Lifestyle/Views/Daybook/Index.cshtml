@using Lifestyle.Models
@model Lifestyle.Models.DefaultProduct

@{
    ViewBag.Title = "Daybook";
    Layout = "~/Views/Shared/Layout_2.cshtml";
}

<head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load("current", { packages: ["corechart"] });
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Task', 'Калории'],
                ['Требуемые калории', @ViewBag.Calories],
                ['Текущие калории', @ViewBag.c],
            ]);

            var options = {
                title: 'Калории',
                pieHole: 0.4,

            };

            var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
            chart.draw(data, options);
        }
    </script>

    <script type="text/javascript">
        google.charts.load("current", { packages: ["corechart"] });
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Task', 'БЖУ соотношение'],
                ['Белки', @ViewBag.p],
                ['Жиры', @ViewBag.f],
                ['Углеводы', @ViewBag.car],

            ]);

            var options = {
                title: 'БЖУ соотношение',
                is3D: true,
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
            chart.draw(data, options);
        }
    </script>
</head>


<style>

    text {
        fill: black;
        // stroke:black;
    }
    /*g {
        color: black;
    }*/

    svg {
        width:auto;

    }
    rect {
        fill: transparent;
    }

    path {
        /*stroke: black;*/
    }

    .mainselection {
        overflow: hidden;
        width: 350px;
        margin-left: 35px;
        background: white;
        color: black;
        text-align: center
    }

    select {
        border: 0;
        background: white;
        height: 32px;
        border: 1px solid black;
        width: 350px;
        -webkit-appearance: none;
    }

    caption, th {
        color: #369;
    }

    caption {
        margin-bottom: 5px;
        text-align: left;
    }

    .simple-table {
        margin: 17px auto;
        border-collapse: collapse;
    }

        .simple-table td,
        .simple-table th {
            padding: 8px;
            border: 1px solid #000;
        }
</style>

<div class="container center-block" style="background-color:rgb(0, 0, 0, 0.8); margin-top:30px ; border-radius:20px">
    <div class="lead text-center" style="margin-bottom: 16px;">
        <h2>Диетический дневник</h2>
        <h4>
            Диетический дневник - один из способов контроля за своим питанием, который выражается в фиксировании всей потребляемой пищи в специальном дневнике.
            Дневник – это та «информационная база», на основе которой вы можете составить индивидуальную диету. Не самостоятельно, конечно, а с помощью нашего сайта.
        </h4>

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            <p>Необходимые калории: @ViewBag.Calories</p>




            <table class="simple-table ">
                <tr>
                    <td>Название</td>
                    <td>Калории</td>
                    <td>Жиры</td>
                    <td>Белки</td>
                    <td>Углеводы</td>
                </tr>
                @foreach (var item in ViewBag.dp)
                {
                    <tr>
                        <td width="200">@item.Name</td>
                        <td width="50">@item.Calories</td>
                        <td width="50">@item.Fats</td>
                        <td width="50">@item.Protein</td>
                        <td width="50">@item.Carbs</td>
                        <td>
                            @Html.ActionLink("Удалить", "DelProduct", new { id = item.Id })
                        </td>
                    </tr>
                }
            </table>

            @*<div class="container">               
                <!-- Trigger the modal with a button -->
                <button type="button" class="btn btn-danger  btn-xs" data-toggle="modal" data-target="#myModal">Open Modal</button>

                <!-- Modal -->
                <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog">

                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title" style="color:red">Modal Header</h4>
                            </div>
                            <div class="modal-body">
                                <p style="color:red">Some text in the modal.</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>*@


            <div class="row">
                <div class="col-sm-6">
                    <div class="form-horizontal" style="color:black">
                        @Html.DropDownListFor(m => m.Id, ViewBag.Product as SelectList, "Select Product...", new { htmlAttributes = new { @class = "mainselection" } })
                    </div>
                </div>
                <div class="col-sm-6" style="width:10%">
                    <div class="form-group">
                        <input type="submit" value="Добавить" class="btn btn-default" />
                    </div>
                </div>
            </div>
        }
    </div>
</div>


<div class="container center-block" style="background-color:rgb(255, 255, 255, 0.8); margin-top:30px ; border-radius:20px">

    <div class="col-sm-6">
        <div id="donutchart"></div>
    </div>
    <div class="col-sm-6">
        <div id="piechart_3d"></div>
    </div>

</div>




